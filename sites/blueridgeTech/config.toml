# ─────────────────────────────────────────────────────────────────────────────
# IMPORTANT: Use the primary custom domain so sitemap/canonicals are correct
baseURL       = "https://blueridgetech.pro/"
title         = "BlueridgeTech"
languageCode  = "en-us"
theme         = ["overrides", "PaperMod"]
themesDir     = "../../themes"
# ─────────────────────────────────────────────────────────────────────────────

 [module]
   [[module.mounts]]
     source = "static"
     target = "static"
   [[module.mounts]]
     source = "media"
     target = "assets/media"
   [[module.mounts]]
     source = "media"
     target = "static/media"

# Keep URLs tidy
trailingSlash = "never"
cleanDestinationDir = true
uglyURLs = true

# Ensure FORMS format exists locally so outputs.home supports it
[outputFormats.FORMS]
  mediaType = "application/json"
  baseName = "forms"
  isPlainText = true
  path = ".well-known"

[outputs]
  home = ["HTML", "RSS", "JSON", "FORMS"]

[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
    [markup.goldmark.parser]
      [markup.goldmark.parser.attribute]
        block  = true
        inline = true
        title  = true

[params]
  # Force production gating for analytics in any deploy environment
  env                = "production"
  primaryColor       = "blue"
  logo               = "media/logo.png"     # optional; add when ready
  lightBackground    = "neutral-100"
  darkBackground     = "gray-900"
  cardBackground     = "gray-100"     # or "slate-100", "rose-50", etc.
  cardBackgroundDark = "gray-800"  # or "slate-800", "black", etc.
  cardBorderLight    = "gray-200"  # no "border-" prefix
  cardBorderDark     = "gray-700"  # no "border-" prefix
  enableSearch       = true
  clientName         = "BlueridgeTech"
  clientURL          = "https://blueridgetech.com"
  mainSections       = ["posts"]
  defaultTheme       = "auto"
  disableThemeToggle = false

[params.analytics]
  # GA4 for BlueridgeTech
  [params.analytics.google]
    id = "G-RWSQCRS25V"
    enabled = true

[params.turnstile]
  enable  = true
  # Reuse Blue Ridge Abbey site key (must be authorized for blueridgetech.com in Cloudflare Turnstile settings)
  sitekey = "0x4AAAAAAB8Xlhe4_-six2GL"

[params.header]
  stickyMobile      = true
  stickyDesktop     = true
  CTAText           = "Contact"
  CTAURL            = "/contact"
  showPhoneOnMobile = false
  logoHeightPx      = 40

[menu]
  [[menu.main]]
    # Home removed from menu (remain accessible via logo)

  [[menu.main]]
    name   = "About"
    url    = "/about"
    weight = 40

  [[menu.main]]
    name   = "Services"
    url    = "/services"
    weight = 20

  # Locations dropdown (after Services)
  [[menu.main]]
    name       = "Locations"
    identifier = "locations"
    url        = "/#"
    weight     = 25

  [[menu.main]]
    name   = "Buena Vista, VA"
    url    = "/"
    parent = "locations"
    weight = 26

  [[menu.main]]
    name   = "Lexington, VA"
    url    = "/locations/lexington-va"
    parent = "locations"
    weight = 27

  [[menu.main]]
    name   = "Reviews"
    url    = "/reviews"
    weight = 30

  [[menu.main]]
    name   = "Contact"
    url    = "/contact"
    weight = 50
