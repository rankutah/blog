{{/* Site-specific list template using Flowbite base */}}
<!DOCTYPE html>
{{- $lightParam := lower (or .Site.Params.lightBackground "gray-200") -}}
{{- $darkParam  := lower (or .Site.Params.darkBackground  "zinc-900") -}}
{{- if strings.HasPrefix $lightParam "dark:bg-" -}}{{- $lightParam = replace $lightParam "dark:bg-" "" -}}{{- end -}}
{{- if strings.HasPrefix $lightParam "bg-" -}}{{- $lightParam = replace $lightParam "bg-" "" -}}{{- end -}}
{{- if strings.HasPrefix $darkParam "dark:bg-" -}}{{- $darkParam = replace $darkParam "dark:bg-" "" -}}{{- end -}}
{{- if strings.HasPrefix $darkParam "bg-" -}}{{- $darkParam = replace $darkParam "bg-" "" -}}{{- end -}}
{{- $htmlLight := cond (eq $lightParam "white") "bg-white" (printf "bg-%s" $lightParam) -}}
{{- $htmlDark  := cond (eq $darkParam  "black") "bg-black" (printf "bg-%s"  $darkParam)  -}}

<html class="{{ .Site.Params.primaryColor | default "rose" }}" lang="{{ .Site.Language.Lang }}" dir="{{ .Site.Language.LanguageDirection | default "auto" }}" data-bg-light="{{ $htmlLight }}" data-bg-dark="{{ $htmlDark }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ .Title }} | {{ .Site.Title }}</title>
  {{ partial "seo-meta.html" . }}
  {{- $useFlowbite := or (eq .Params.useFlowbiteJS true) (eq site.Params.useFlowbiteJS true) -}}
  {{- if $useFlowbite -}}
    <script src='{{ "js/flowbite.min.js" | relURL }}' defer onload="try{window.initCarousels&&window.initCarousels()}catch(e){}"></script>
  {{- end -}}
  {{- $css := resources.Get "css/main.css" | postCSS | minify | fingerprint "sha384" }}
  <link rel="preload" as="style" href="{{ $css.RelPermalink }}" {{ if $css.Data.Integrity }}integrity="{{ $css.Data.Integrity }}"{{ end }} crossorigin="anonymous">
  <link rel="stylesheet" href="{{ $css.RelPermalink }}" {{ if $css.Data.Integrity }}integrity="{{ $css.Data.Integrity }}"{{ end }} crossorigin="anonymous">
  {{ partial "fonts.html" . }}
  {{ partial "brand-colors.html" . }}
  {{ partial "favicons.html" . }}
  {{ partial "lcp-preload.html" . }}
  {{ partial "schema.html" . }}
</head>

{{- $pal := partial "theme/palette.html" . -}}
<body id="top" class="flowbite-landing {{ $pal.bodyBg }} {{ $pal.bodyText }} transition-colors duration-200 twinkle-bg">
  {{ partial "navbar.html" . }}
  <main id="content" class="min-h-screen" data-bg-sync>
    <article class="prose prose-zinc max-w-none dark:prose-invert">
      {{ .Content }}
      {{/* Basic list of section pages if any (optional) */}}
      {{- $pages := union .RegularPages .Sections -}}
      {{- if gt (len $pages) 0 -}}
      <ul>
        {{- range $pages -}}
          <li><a href="{{ .RelPermalink }}">{{ .Title }}</a></li>
        {{- end -}}
      </ul>
      {{- end -}}
    </article>
  </main>
  {{ partialCached "footer.html" . .Layout .Kind (.Param "hideFooter") (.Param "ShowCodeCopyButtons") }}
</body>
</html>
