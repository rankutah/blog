{{/* themes/overrides/layouts/flowbite.html */}}
<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" dir="{{ .Site.Language.LanguageDirection | default "auto" }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ .Title }} | {{ .Site.Title }}</title>

  {{- /* Tailwind + Flowbite CSS via Hugo Pipes */ -}}
  {{- $flow := resources.Get "css/main.css" | postCSS }}
  <link
    rel="stylesheet"
    href="{{ $flow.RelPermalink }}"
    {{ if $flow.Data.Integrity }}integrity="{{ $flow.Data.Integrity }}"{{ end }}
    crossorigin="anonymous"
  >
</head>

<body class="flowbite-landing">
  {{/* ‚Üê Navbar goes here, once per site */}}
  {{ partial "navbar.html" . }}

  <main>
    {{ block "main" . }}{{ .Content }}{{ end }}
  </main>

  {{/* Flowbite JS bundle */}}
  <script src="{{ "js/flowbite.min.js" | relURL }}"></script>




  <script>
  const themeToggle = document.getElementById('theme-toggle');
  const darkIcon    = document.getElementById('theme-toggle-dark-icon');
  const lightIcon   = document.getElementById('theme-toggle-light-icon');

  // on page load, show correct icon
  if (localStorage.getItem('theme') === 'dark' || 
      (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark');
    lightIcon.classList.remove('hidden');
  } else {
    darkIcon.classList.remove('hidden');
  }

  themeToggle.addEventListener('click', function() {
    darkIcon.classList.toggle('hidden');
    lightIcon.classList.toggle('hidden');

    if (document.documentElement.classList.contains('dark')) {
      document.documentElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    } else {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
  });
</script>
</body>
</html>
