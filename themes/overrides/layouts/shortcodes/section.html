{{- /* Section wrapper: renders inner Markdown once
     Controls: max/pad/y/align (same as before) */ -}}

{{- $page := .Page -}}

{{- $pageOverride := .Get "classes" | default "" -}}
{{- $siteOverride := $page.Site.Params.section.classes | default "" -}}

{{- $max   := .Get "max"   | default "xl"   -}}
{{- $pad   := .Get "pad"   | default "lg"   -}}
{{- $y     := .Get "y"     | default "md"   -}}
{{- $align := .Get "align" | default "start" -}}

{{- $maxMap := dict
  "sm"  "max-w-screen-sm"
  "md"  "max-w-3xl"
  "lg"  "max-w-5xl"
  "xl"  "max-w-7xl"
  "2xl" "max-w-screen-2xl"
  "full" "max-w-none"
-}}
{{- $padMap := dict "none" "px-0" "sm" "px-4" "md" "px-6" "lg" "px-8" -}}
{{- $yMap   := dict "none" "py-0" "sm" "py-6" "md" "py-12" "lg" "py-16" "xl" "py-24" -}}
{{- $alMap  := dict "start" "text-left" "center" "text-center" -}}

{{- $base := printf "%s mx-auto %s %s %s"
    (index $maxMap $max   | default "max-w-7xl")
    (index $padMap $pad   | default "px-8")
    (index $yMap   $y     | default "py-12")
    (index $alMap  $align | default "text-left")
-}}

{{- $classes := cond (ne $pageOverride "") $pageOverride (cond (ne $siteOverride "") $siteOverride $base) -}}

<div class="{{ $classes }}">
  {{- /* Render Markdown here so anything outside <col> is rendered */ -}}
  {{- .Inner | markdownify | safeHTML -}}
</div>
