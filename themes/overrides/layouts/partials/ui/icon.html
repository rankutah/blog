{{- /* Expects a dict: name, class (optional), title (optional) */ -}}
{{- $name  := .name  | default "" -}}
{{- $class := .class | default "" -}}
{{- $title := .title | default "" -}}

{{- with resources.Get (printf "icons/%s.svg" $name) -}}
  <span class="inline-block align-middle {{ $class }}" {{ if not $title }}aria-hidden="true"{{ end }}>
    {{- /* Inline-safe: SVG files often contain newlines/indentation which can break Markdown headings. */ -}}
    {{- $svg := replaceRE `[\r\n]+` `` .Content -}}
    {{- $svg | safeHTML -}}
    {{- if $title -}}<span class="sr-only">{{ $title }}</span>{{- end -}}
  </span>
{{- else -}}
  <!-- icon not found: {{ $name }} -->
  <span class="inline-block align-middle {{ $class }}" aria-hidden="true"></span>
{{- end -}}
