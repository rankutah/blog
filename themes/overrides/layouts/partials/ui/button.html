{{- /* Minimal renderer used by the button shortcode.
     Expects a plain dict, not a shortcode context.
     Keys it uses:
       .text (string)
       .href (string)
       .classes (string)
       .isSubmit (bool)
       .form (string, optional)
*/ -}}

{{- $text    := .text    | default "Button" -}}
{{- $href    := .href    | default "" -}}
{{- $site    := .Site | default .Page.Site -}}
{{- $brand   := lower (or $site.Params.primaryColor "blue") -}}
{{- $defaultClass := printf "bg-%s-600 hover:bg-%s-700 focus:ring-%s-300 text-white" $brand $brand $brand -}}
{{- $classes := .classes | default $defaultClass -}}
{{- $isSubmit:= .isSubmit | default false -}}
{{- $form    := .form    | default "" -}}

{{- if $isSubmit -}}
  <button type="submit" {{ if $form }}form="{{ $form }}"{{ end }}
          class="not-prose no-underline inline-flex items-center {{ $classes }}">{{ $text }}</button>
{{- else -}}
  <a href="{{ cond (ne $href "") $href "#" }}"
     class="not-prose no-underline inline-flex items-center {{ $classes }}">{{ $text }}</a>
{{- end -}}
