{{- /* Alias partial for sites that shadow footer.html at project level. */ -}}
{{- if not (.Param "hideFooter") }}
<footer class="footer border-t border-black/15 dark:border-white/15">
  {{- $footerPage := or (site.GetPage "page" "footer") (site.GetPage "/footer") (site.GetPage "footer") -}}
  {{- if and $footerPage (gt (len (trim $footerPage.Content " \n\r\t")) 0) -}}
    {{- $footerWide := or (.Param "footerWide") (.Site.Params.footerWide) -}}
    <div class="prose prose-sm dark:prose-invert{{ if $footerWide }} max-w-none{{ end }}">
      {{ $footerPage.Content }}
    </div>
  {{- else -}}
    <span>
      © {{ now.Year }}
      <a href="{{ .Site.Params.clientURL }}" rel="noopener" target="_blank"> {{ .Site.Params.clientName }}</a>
      •
    </span>
    <span>
      <a href="https://rankutah.com" rel="noopener" target="_blank">Rank Utah SEO & Web Design</a>
    </span>
  {{- end }}
</footer>
{{- end }}

{{- if (not site.Params.disableScrollToTop) }}
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>
{{- end }}

{{- partial "extend_footer.html" . }}
{{- partial "turnstile-loader.html" . }}
<script defer src="{{ "js/click-tracker.js" | relURL }}"></script>
<script defer src="{{ "js/linkify-phones.js" | relURL }}"></script>
{{- if (not site.Params.disableScrollToTop) }}
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
{{- end }}
