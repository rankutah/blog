{{- /* layouts/partials/components/section.html */ -}}
{{- $page    := .page -}}
{{- $section := .section -}}

{{/* DEBUG: dump the entire section map */}}
{{ warnf "ðŸ”Ž section.components = %v" $section.components }}

{{- if $section.components }}
  <div class="grid grid-cols-{{ default 1 $section.cols }} gap-{{ default 4 $section.gap }}">
    {{- range $section.components }}
      {{/* DEBUG: show each componentâ€™s type and map */}}
      {{ warnf "ðŸ”¹ Rendering component type=%s, map=%v" .type . }}
      {{ partial (printf "components/%s.html" (lower .type)) (dict
          "page" $page
          "comp" .
      ) }}
    {{- end }}
  </div>
{{- else }}
  {{- /* no components, render raw content */ -}}
  {{- $page.Content }}
{{- end }}
