{{/* Returns text color classes for links based on site primaryColor.
           Example output: "text-blue-800 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"

    Note: We explicitly set a dark-mode text color so improving light-mode contrast
    (e.g. using 800/900 shades) doesn't make links too dark on dark backgrounds.
*/}}

{{- /* Optional site override (useful for monochrome designs):
            [params.text]
                linkColorClasses = "text-white hover:text-white/80 dark:text-white dark:hover:text-white/80"
            or
                linkColor = "white"
*/ -}}
{{- $overrideClasses := .Site.Params.text.linkColorClasses | default "" -}}
{{- if ne $overrideClasses "" -}}
    {{- $overrideClasses -}}
    {{- return -}}
{{- end -}}
{{- $override := lower (.Site.Params.text.linkColor | default "") -}}
{{- if eq $override "white" -}}
    {{- "text-white hover:text-white/80 dark:text-white dark:hover:text-white/80" -}}
    {{- return -}}
{{- end -}}

{{- $brand := partial "theme/brand.html" . | transform.Unmarshal -}}
{{- if eq (index $brand "kind") "css" -}}
    {{- "cp-brand-link" -}}
    {{- return -}}
{{- end -}}

{{- $siteColor := index $brand "tailwind" | default (lower (or .Site.Params.primaryColor "blue")) -}}
{{- $map := dict
    "red"     "text-red-800 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"
    "orange"  "text-orange-800 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300"
    "amber"   "text-amber-800 hover:text-amber-900 dark:text-amber-400 dark:hover:text-amber-300"
    "yellow"  "text-yellow-800 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300"
    "lime"    "text-lime-800 hover:text-lime-900 dark:text-lime-400 dark:hover:text-lime-300"
    "green"   "text-green-800 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"
    "emerald" "text-emerald-800 hover:text-emerald-900 dark:text-emerald-400 dark:hover:text-emerald-300"
    "teal"    "text-teal-800 hover:text-teal-900 dark:text-teal-400 dark:hover:text-teal-300"
    "cyan"    "text-cyan-800 hover:text-cyan-900 dark:text-cyan-400 dark:hover:text-cyan-300"
    "sky"     "text-sky-800 hover:text-sky-900 dark:text-sky-400 dark:hover:text-sky-300"
    "blue"    "text-blue-800 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"
    "indigo"  "text-indigo-800 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"
    "violet"  "text-violet-800 hover:text-violet-900 dark:text-violet-400 dark:hover:text-violet-300"
    "purple"  "text-purple-800 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300"
    "fuchsia" "text-fuchsia-800 hover:text-fuchsia-900 dark:text-fuchsia-400 dark:hover:text-fuchsia-300"
    "pink"    "text-pink-800 hover:text-pink-900 dark:text-pink-400 dark:hover:text-pink-300"
    "rose"    "text-rose-800 hover:text-rose-900 dark:text-rose-400 dark:hover:text-rose-300"
    "slate"   "text-slate-800 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300"
    "gray"    "text-gray-800 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300"
    "zinc"    "text-zinc-800 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-300"
    "neutral" "text-neutral-800 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-300"
    "stone"   "text-stone-800 hover:text-stone-900 dark:text-stone-400 dark:hover:text-stone-300"
 -}}
{{- (index $map $siteColor | default (index $map "blue")) -}}
