{{/* Simplified Tailwind list template (PaperMod-independent) */}}
{{- define "main" }}
  {{- $pages := union .RegularPages .Sections -}}
  {{- if .IsHome }}
    {{- $pages = where site.RegularPages "Type" "in" site.Params.mainSections -}}
    {{- $pages = where $pages "Params.hiddenInHomeList" "!=" "true" -}}
  {{- end }}
  {{- $paginator := .Paginate $pages -}}
  <div class="max-w-5xl mx-auto px-4 md:px-8 py-8">
    {{- if and (not .IsHome) .Title }}
      <h1 class="text-3xl md:text-4xl font-semibold mb-8">{{ .Title }}</h1>
    {{- end }}
    {{- if .Content }}
      <article class="prose prose-zinc dark:prose-invert max-w-none mb-10">{{ .Content }}</article>
    {{- end }}
    {{- $list := $paginator.Pages -}}
    {{- if gt (len $list) 0 -}}
      {{- partial "list-posts-cards.html" (dict "ctx" . "pages" $list "showDate" false "showTags" true "excerpt" 180) -}}
    {{- else -}}
      <p class="text-gray-600 dark:text-gray-400">No pages found.</p>
    {{- end -}}
    {{- if gt $paginator.TotalPages 1 }}
      <nav class="flex items-center justify-between mt-12 text-sm">
        {{- if $paginator.HasPrev }}
          <a class="link-brand hover:underline {{ partial "theme/link-brand-classes.html" . }}" href="{{ $paginator.Prev.URL | relURL }}">« Previous</a>
        {{- else }}<span></span>{{- end }}
        <span class="text-gray-500 dark:text-gray-400">Page {{ $paginator.PageNumber }} / {{ $paginator.TotalPages }}</span>
        {{- if $paginator.HasNext }}
          <a class="link-brand hover:underline {{ partial "theme/link-brand-classes.html" . }}" href="{{ $paginator.Next.URL | relURL }}">Next »</a>
        {{- else }}<span></span>{{- end }}
      </nav>
    {{- end }}
  </div>
{{- end }}
