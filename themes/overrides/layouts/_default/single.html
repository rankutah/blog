{{- define "main" }}
  <div class="max-w-3xl mx-auto px-4 md:px-8 py-10">
    {{ $title := cond (ne .Title "") .Title (humanize .File.BaseFileName) }}
    <h1 class="text-3xl md:text-4xl font-semibold leading-tight mb-4">{{ $title }}</h1>
    {{ partial "breadcrumbs.html" . }}
    {{ partial "post-meta.html" . }}
    {{- /* Unified cover (optional) */ -}}
    {{ partial "cover.html" (dict "cxt" . "IsSingle" true) }}
    {{- if .Description }}<p class="text-lg text-gray-600 dark:text-gray-400 mb-6">{{ .Description }}</p>{{- end }}
    <article class="prose prose-zinc dark:prose-invert max-w-none">{{ .Content }}</article>
    {{ partial "tag-badges.html" . }}
    {{- if .Params.eventDateTime }}
      {{ $ed := time .Params.eventDateTime }}
      <script type="application/ld+json">{"@context":"https://schema.org","@type":"Event","name":{{ .Title | jsonify }},"startDate":"{{ $ed.Format "2006-01-02T15:04:05Z07:00" }}","url":"{{ .Permalink }}"}</script>
    {{- end }}
    {{- if .Param "ShowPostNavLinks" }}
      <nav class="mt-12 flex justify-between text-sm">
        {{- with .PrevInSection }}<a class="text-blue-600 dark:text-blue-400 hover:underline" href="{{ .RelPermalink }}">« {{ .Title }}</a>{{- else }}<span></span>{{- end }}
        {{- with .NextInSection }}<a class="text-blue-600 dark:text-blue-400 hover:underline" href="{{ .RelPermalink }}">{{ .Title }} »</a>{{- else }}<span></span>{{- end }}
      </nav>
    {{- end }}
  </div>
{{- end }}
