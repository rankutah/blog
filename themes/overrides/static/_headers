/*
  # Security headers (global across all sites)
  X-Content-Type-Options: nosniff
  X-Frame-Options: SAMEORIGIN
  Referrer-Policy: strict-origin-when-cross-origin
  Cross-Origin-Opener-Policy: same-origin
  Cross-Origin-Resource-Policy: same-origin
  Strict-Transport-Security: max-age=31536000; includeSubDomains; preload

  # Modern permissions policy: disable sensitive features and ad-tech topics
  Permissions-Policy: geolocation=(), microphone=(), camera=(), browsing-topics=(), interest-cohort=()

  # Content Security Policy: pragmatic defaults plus GA + Cloudflare Turnstile
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://challenges.cloudflare.com; connect-src 'self' https://www.google-analytics.com https://stats.g.doubleclick.net https://challenges.cloudflare.com; img-src 'self' data: blob: https://www.google-analytics.com https://stats.g.doubleclick.net; style-src 'self' 'unsafe-inline'; font-src 'self' data:; frame-src https://challenges.cloudflare.com https://www.youtube.com https://www.youtube-nocookie.com; object-src 'none'; base-uri 'self'; frame-ancestors 'none'

  # Default caching: don't cache in the browser, allow brief edge caching.
  Cache-Control: public, max-age=0, s-maxage=60, stale-while-revalidate=300

# Fonts (safe long cache)
/fonts/google/fonts.css
  Cache-Control: public, max-age=31536000, s-maxage=31536000, immutable
/*.woff2
  Cache-Control: public, max-age=31536000, s-maxage=31536000, immutable
/*.woff
  Cache-Control: public, max-age=31536000, s-maxage=31536000, immutable

# Favicons/icons (short-long cache)
/favicon.ico
  Cache-Control: public, max-age=604800
/favicon-16x16.png
  Cache-Control: public, max-age=604800
/favicon-32x32.png
  Cache-Control: public, max-age=604800
/apple-touch-icon.png
  Cache-Control: public, max-age=604800

# Project asset buckets (theme/site structure)
/css/*
  Cache-Control: public, max-age=31536000, immutable
  Access-Control-Allow-Origin: *
  Cross-Origin-Resource-Policy: cross-origin
/js/*.min.*.js
  Cache-Control: public, max-age=31536000, s-maxage=31536000, immutable
  Access-Control-Allow-Origin: *
  Cross-Origin-Resource-Policy: cross-origin
/js/*
  # /js/* files are not necessarily content-hashed; avoid year-long staleness.
  Cache-Control: public, max-age=604800, s-maxage=604800, stale-while-revalidate=86400
  Access-Control-Allow-Origin: *
  Cross-Origin-Resource-Policy: cross-origin
/assets/*
  Cache-Control: public, max-age=31536000, immutable
  Access-Control-Allow-Origin: *
  Cross-Origin-Resource-Policy: cross-origin
/media-deriv/*
  # Derivatives can be regenerated under the same URL; keep cache moderate.
  Cache-Control: public, max-age=604800, s-maxage=604800, stale-while-revalidate=86400
  Access-Control-Allow-Origin: *
  Cross-Origin-Resource-Policy: cross-origin
/media/*
  # Media is often replaced while keeping the same filename.
  Cache-Control: public, max-age=604800, s-maxage=604800, stale-while-revalidate=86400
  Access-Control-Allow-Origin: *
  Cross-Origin-Resource-Policy: cross-origin
